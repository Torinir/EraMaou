;eraIM@Sから導入しました(eramaou)

@COM63
;貝あわせ

PRINTL 貝あわせ
;SAVESTR:22 = 貝あわせ
CALL TRAIN_MESSAGE_B

;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
LOSEBASE:1 += 30
LOSEBASE:1 += 90

SOURCE:12 = 250
SOURCE:13 = 400
SOURCE:14 = 300

;ABL:従順をみる
IF ABL:10 == 0
	SOURCE:11 = 200
ELSEIF ABL:10 == 1
	SOURCE:11 = 120
ELSEIF ABL:10 == 2
	SOURCE:11 = 60
ELSEIF ABL:10 == 3
	SOURCE:11 = 20
ELSEIF ABL:10 == 4
	SOURCE:11 = 0
ELSE
	SOURCE:11 = 0
ENDIF

;ABL:Ｃ感覚をみる
IF ABL:0 == 0
	SOURCE:0 = 20
	SOURCE:4 = 0
	SOURCE:5 = 0
	SOURCE:13 = 20
	TIMES SOURCE:12 , 0.80
ELSEIF ABL:0 == 1
	SOURCE:0 = 80
	SOURCE:4 = 10
	SOURCE:5 = 50
	SOURCE:13 = 20
	TIMES SOURCE:12 , 0.90
ELSEIF ABL:0 == 2
	SOURCE:0 = 350
	SOURCE:4 = 50
	SOURCE:5 = 100
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.00
ELSEIF ABL:0 == 3
	SOURCE:0 = 750
	SOURCE:4 = 100
	SOURCE:5 = 300
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.10
ELSEIF ABL:0 == 4
	SOURCE:0 = 1200
	SOURCE:4 = 700
	SOURCE:5 = 600
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.20
ELSE
	SOURCE:0 = 1750
	SOURCE:4 = 2000
	SOURCE:5 = 1000
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.30
ENDIF

;ABL:技巧をみる
IF ABL:12 == 0
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 1
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 2
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 3
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 4
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSE
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ENDIF

;ABL:奉仕精神をみる
IF ABL:16 == 0
	TIMES SOURCE:5 , 0.50
ELSEIF ABL:16 == 1
	TIMES SOURCE:5 , 1.00
ELSEIF ABL:16 == 2
	TIMES SOURCE:5 , 1.20
ELSEIF ABL:16 == 3
	TIMES SOURCE:5 , 1.40
ELSEIF ABL:16 == 4
	TIMES SOURCE:5 , 1.70
ELSE
	TIMES SOURCE:5 , 2.00
ENDIF


;調教者のABL:Ｃ感覚をみる
IF ABL:PLAYER:0 == 0
	TIMES SOURCE:4 , 0.80
	TIMES SOURCE:5 , 0.50
ELSEIF ABL:PLAYER:0 == 1
	TIMES SOURCE:4 , 0.90
	TIMES SOURCE:5 , 0.70
ELSEIF ABL:PLAYER:0 == 2
	TIMES SOURCE:4 , 1.00
	TIMES SOURCE:5 , 1.00
ELSEIF ABL:PLAYER:0 == 3
	TIMES SOURCE:4 , 1.10
	TIMES SOURCE:5 , 1.20
ELSEIF ABL:PLAYER:0 == 4
	TIMES SOURCE:4 , 1.20
	TIMES SOURCE:5 , 1.40
ELSE
	TIMES SOURCE:4 , 1.30
	TIMES SOURCE:5 , 1.70
ENDIF


;奴隷のV⇔調教者のVの汚れが移動
STAIN:3 |= STAIN:PLAYER:3
STAIN:PLAYER:3 |= STAIN:3

IF TALENT:122 == 0 && TALENT:PLAYER:122 == 0
	PRINTS EXPNAME:40
	PRINTL +8
	EXP:40 += 8
ENDIF

SIF ASSIPLAY == 0 && ABL:0 >= 3
		TFLAG:30 += 1

TFLAG:100 = 1

RETURN 1

;-------------------------------------------------
;-------------------------------------------------
@COM63_AUTO
;貝あわせ自動

PRINTL ≪貝合わせ≫

;-------------------------------------------------
;ソースの計算
;-------------------------------------------------
LOSEBASE:1 += 30
LOSEBASE:1 += 90

SOURCE:12 = 250
SOURCE:13 = 400
SOURCE:14 = 300

;ABL:従順をみる
IF ABL:10 == 0
	SOURCE:11 = 200
ELSEIF ABL:10 == 1
	SOURCE:11 = 120
ELSEIF ABL:10 == 2
	SOURCE:11 = 60
ELSEIF ABL:10 == 3
	SOURCE:11 = 20
ELSEIF ABL:10 == 4
	SOURCE:11 = 0
ELSE
	SOURCE:11 = 0
ENDIF

;ABL:Ｃ感覚をみる
IF ABL:0 == 0
	SOURCE:0 = 20
	SOURCE:4 = 0
	SOURCE:5 = 0
	SOURCE:13 = 20
	TIMES SOURCE:12 , 0.80
ELSEIF ABL:0 == 1
	SOURCE:0 = 80
	SOURCE:4 = 10
	SOURCE:5 = 50
	SOURCE:13 = 20
	TIMES SOURCE:12 , 0.90
ELSEIF ABL:0 == 2
	SOURCE:0 = 350
	SOURCE:4 = 50
	SOURCE:5 = 100
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.00
ELSEIF ABL:0 == 3
	SOURCE:0 = 750
	SOURCE:4 = 100
	SOURCE:5 = 300
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.10
ELSEIF ABL:0 == 4
	SOURCE:0 = 1200
	SOURCE:4 = 700
	SOURCE:5 = 600
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.20
ELSE
	SOURCE:0 = 1750
	SOURCE:4 = 2000
	SOURCE:5 = 1000
	SOURCE:13 = 20
	TIMES SOURCE:12 , 1.30
ENDIF

;ABL:技巧をみる
IF ABL:12 == 0
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 1
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 2
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 3
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSEIF ABL:12 == 4
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ELSE
	TIMES SOURCE:4  , 1.00
	TIMES SOURCE:5  , 0.60
	TIMES SOURCE:13 , 0.50
ENDIF

;ABL:奉仕精神をみる
IF ABL:16 == 0
	TIMES SOURCE:5 , 0.50
ELSEIF ABL:16 == 1
	TIMES SOURCE:5 , 1.00
ELSEIF ABL:16 == 2
	TIMES SOURCE:5 , 1.20
ELSEIF ABL:16 == 3
	TIMES SOURCE:5 , 1.40
ELSEIF ABL:16 == 4
	TIMES SOURCE:5 , 1.70
ELSE
	TIMES SOURCE:5 , 2.00
ENDIF


;調教者のABL:Ｃ感覚をみる
IF ABL:PLAYER:0 == 0
	TIMES SOURCE:4 , 0.80
	TIMES SOURCE:5 , 0.50
ELSEIF ABL:PLAYER:0 == 1
	TIMES SOURCE:4 , 0.90
	TIMES SOURCE:5 , 0.70
ELSEIF ABL:PLAYER:0 == 2
	TIMES SOURCE:4 , 1.00
	TIMES SOURCE:5 , 1.00
ELSEIF ABL:PLAYER:0 == 3
	TIMES SOURCE:4 , 1.10
	TIMES SOURCE:5 , 1.20
ELSEIF ABL:PLAYER:0 == 4
	TIMES SOURCE:4 , 1.20
	TIMES SOURCE:5 , 1.40
ELSE
	TIMES SOURCE:4 , 1.30
	TIMES SOURCE:5 , 1.70
ENDIF


IF TALENT:122 == 0
	PRINTS EXPNAME:40
	PRINTL +8
	EXP:40 += 8
ENDIF

;自動回数
CFLAG:666 += 1

RETURN 1
